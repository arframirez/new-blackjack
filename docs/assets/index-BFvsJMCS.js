(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const f=(r,e)=>{if(!r||r.length===0)throw new Error("tiposDeCarta es obligatorio como un arreglo de string");if(!e||e.length===0)throw new Error("tiposDeCarta es obligatorio como un arreglo de string");let n=[];for(let t=2;t<=10;t++)for(let o of r)n.push(t+o);for(let t of r)for(let o of e)n.push(o+t);return(t=>{for(let o=t.length-1;o>0;o--){const l=Math.floor(Math.random()*(o+1));[t[o],t[l]]=[t[l],t[o]]}return t})(n)},g=r=>{if(r.length===0)throw"No hay mas cartas";return r.pop()},v=r=>{const e=r.substring(0,r.length-1);return isNaN(e)?e==="A"?11:10:e*1},C=r=>{const[e,n]=r;setTimeout(()=>{n===e?alert("Nadie gana :("):e>21?alert("computadora gana"):n>21?alert("jugador Gana"):alert("Computadora gana")},300)},m=(r,e)=>{if(!r)throw new Error("La carta es un argumento obligatorio");const n=document.querySelectorAll(".divCartas"),s=document.createElement("img");s.src=`/new-blackjack/assets/cartas/${r}.png`,s.classList.add("carta"),n[e].append(s)};let u=[];const p=["C","D","H","S"],h=["A","J","Q","K"];let a=[0,0];const i=document.querySelector("#btnPedir"),c=document.querySelector("#btnDetener"),L=document.querySelector("#btnNuevo"),w=document.querySelectorAll(".divCartas"),b=document.querySelectorAll("small"),E=(r=2)=>{u=f(p,h),a=[];for(let e=0;e<r;e++)a.push(0);b.forEach(e=>e.innerText=0),w.forEach(e=>e.innerHTML=""),i.disabled=!1,c.disabled=!1};u=f(p,h);const y=(r,e)=>(a[e]=a[e]+v(r),b[e].innerText=a[e],a[e]),d=r=>{let e=0;do{const n=g(u);if(e=y(n,a.length-1),m(n,a.length-1),r>21)break}while(e<r&&r<=21);C(a)};i.addEventListener("click",()=>{const r=g(u),e=y(r,0);m(r,0),e>21?(i.disabled=!0,c.disabled=!0,d(e)):e===21&&(c.disabled=!0,i.disabled=!0,d(e))});c.addEventListener("click",()=>{c.disabled=!0,i.disabled=!0,d(a[0])});L.addEventListener("click",()=>{console.clear(),E()});
